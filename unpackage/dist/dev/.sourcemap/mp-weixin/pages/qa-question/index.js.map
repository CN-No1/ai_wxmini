{"version":3,"sources":["webpack:///D:/MyProject/ilawpush_wxmini/main.js","webpack:///D:/MyProject/ilawpush_wxmini/pages/qa-question/index.vue?426d","webpack:///D:/MyProject/ilawpush_wxmini/pages/qa-question/index.vue?1cf2","webpack:///D:/MyProject/ilawpush_wxmini/pages/qa-question/index.vue?c286","webpack:///D:/MyProject/ilawpush_wxmini/pages/qa-question/index.vue?461e","webpack:///D:/MyProject/ilawpush_wxmini/pages/qa-question/index.vue","webpack:///D:/MyProject/ilawpush_wxmini/pages/qa-question/index.vue?b6f6","webpack:///D:/MyProject/ilawpush_wxmini/pages/qa-question/index.vue?9932"],"names":["createPage","Page","RegImg","QUESTION_TYPE","question","answer","tip","tip_with_cancel","ANSWER_OPTION_FLAG","option","similar","laws","cases","relate","lawyer","IMTextType","text","img","file","order","discount_code","product","data","eventId","source","type","userId","recommendData","dateVal","askList","content","qId","scrollTop","relateData","isHuman","inputText","socket","socketConfig","url","limit","lawyerId","receiveRole","lockReconnect","timer","level1","level2","riskId","topicId","methods","pushAskList","params","title","options","header","isHistory","isRead","isCard","isChat","showLeaveMessageOpt","isQueue","isImg","isFile","isOrder","push","$nextTick","scrollBottom","isLogin","uni","getStorageSync","_userInfo","id","token","phone","lawApi","$u","guid","test","isEmpty","qid","event_ids","getApp","globalData","industry_ids","user_id","category","topic_id","api","res","changeMessageStatus","formatQaAnswer","card","similar_question","related_questions","choices","paperwork","case_registration","is_chat","_answer","replace","_showCard","length","require","_choices","forEach","item","active","option_desc","_similar","_related","_title","cause","getRecommendData","getRecommend","count","event_id","index","handleChangeRecommend","e","i","_i","parseInt","handleOptionClick","opt","handleInput","handleSendSocketMessage","handleDownloadFile","path","_this","downloadFile","success","$refs","uTips","show","duration","handleCaseDetail","_temp","route","redirct","socketInit","WebSocket","heartCheck","isReconnection","uId","onSocketClosed","console","log","fail","err","onNetworkChange","onReceivedMsg","JSON","parse","code","msg","role","createTime","msgContent","orderId","lawyerProductId","handleLinSocket","closeWebSocket","initWebSocket","_param","sendId","receiveId","sendWebSocketMsg","stringify","mounted","onLoad","topic","subTopicId","subTopic","timeFormat","Date","getTime","onShow"],"mappings":"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","file":"pages/qa-question/index.js","sourcesContent":["import 'uni-pages';import '@dcloudio/uni-stat';\n\nimport Vue from 'vue'            \nimport Page from './pages/qa-question/index.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./index.vue?vue&type=template&id=63d3a320&\"\nvar renderjs\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('63d3a320')) {\n      api.createRecord('63d3a320', component.options)\n    } else {\n      api.reload('63d3a320', component.options)\n    }\n    module.hot.accept(\"./index.vue?vue&type=template&id=63d3a320&\", function () {\n      api.rerender('63d3a320', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"MyProject/ilawpush_wxmini/pages/qa-question/index.vue\"\nexport default component.exports","export * from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=template&id=63d3a320&\"","var components = {\n  \"u-divider\": () =>\n    import(/* webpackChunkName: \"uview-ui/components/u-divider/u-divider\" */ \"@/uview-ui/components/u-divider/u-divider.vue\"),\n  \"u-input\": () =>\n    import(/* webpackChunkName: \"uview-ui/components/u-input/u-input\" */ \"@/uview-ui/components/u-input/u-input.vue\"),\n  \"u-top-tips\": () =>\n    import(/* webpackChunkName: \"uview-ui/components/u-top-tips/u-top-tips\" */ \"@/uview-ui/components/u-top-tips/u-top-tips.vue\")\n}\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport WebSocket from '../../common/socket.js';\nconst RegImg = /\\.(png|jpe?g|gif|svg)(\\?.*)?$/; // 校验是否为图片类型\nconst QUESTION_TYPE = {\n\tquestion: 1, // 问题\n\tanswer: 2, // 答案\n\ttip: 3, // 提示\n\ttip_with_cancel: 4 // 提示\n}; // 问答类型\nconst ANSWER_OPTION_FLAG = {\n\toption: 1, // 普通选项\n\tsimilar: 2, // 相似问题\n\tlaws: 3, // 相关法条\n\tcases: 4, // 相关案例\n\trelate: 5, // 相关问题,\n\tlawyer: 6 // 律师\n}; // 答案选项的分类\nconst IMTextType = {\n\ttext: 1, // 文字\n\timg: 2, // 图片\n\tfile: 3, // 文件\n\torder: 4, // 订单\n\tdiscount_code: 5, // 优惠券\n\tproduct: 6 // 产品\n}; // 小法IM消息类型\nexport default {\n\tdata() {\n\t\treturn {\n\t\t\teventId: '', // 机构id\n\t\t\tsource: '', // source 渠道\n\t\t\ttype: '', // 类型\n\t\t\tuserId: '', // 用户\n\t\t\trecommendData: [], // 推荐问题\n\t\t\tdateVal: '', // 时间分割线\n\t\t\taskList: [], // 问答数据\n\t\t\tcontent: '', // 调用小法问答接口\n\t\t\tqId: '', // 当前的qId\n\t\t\tscrollTop: 0, // 滚动高度\n\t\t\trelateData: [], // 你可能想\n\t\t\tisHuman: false, // 是否为IM\n\t\t\tinputText: '', // 输入文本\n\t\t\tsocket: null, // websocket对象\n\t\t\tsocketConfig: {\n\t\t\t\turl: 'wss://t-xiaofa-lawyer.aegis-info.com/mall-websockets/ws', // 服务器地址\n\t\t\t\tlimit: 5, // 心跳最大连接数\n\t\t\t},\n\t\t\tlawyerId: 0, // 律师id\n\t\t\treceiveRole: '', // 接收消息的用户角色\n\t\t\tlockReconnect: false, // 是否进行断线重连\n\t\t\ttimer: null, // setTimeout 对象\n\t\t\tlevel1: '', // 法律专题\n\t\t\tlevel2: '', // 二级法律专题\n\t\t\triskId: '', // 诉讼风险评估id\n\t\t\ttopicId: '' // 法律专题id\n\t\t}\n\t},\n\tmethods: {\n\t\t/**\n\t\t *  @param {Object} params: {type:类型,title:标题, text: 内容, options:选项 , option_desc: 选项文案， similar:相似问题, header:头像 ,isHistory:是否是历史消息,qId: 问题ID, isRead: 是否已读,isCard: 是否为知识卡片,isChat: 是否普通话术,showLeaveMessageOpt: 留言,isQueue: 排队, isImg: 是否为图片, isFile: 是否为文件,isOrder: 是否为订单, file: 文件  }\n\t\t */\n\t\tpushAskList(params = {\n\t\t\ttype: QUESTION_TYPE.question,\n\t\t\ttitle: '',\n\t\t\ttext: '',\n\t\t\toptions: [],\n\t\t\tsimilar: [],\n\t\t\theader: '',\n\t\t\tisHistory: false,\n\t\t\tqId: '',\n\t\t\tisRead: false,\n\t\t\tisCard: false,\n\t\t\tisChat: false,\n\t\t\tshowLeaveMessageOpt: false,\n\t\t\tisQueue: false,\n\t\t\tisImg: false,\n\t\t\tisFile: false,\n\t\t\tisOrder: false,\n\t\t\tfile: null\n\t\t}) {\n\t\t\tthis.askList.push({\n\t\t\t\t...params\n\t\t\t})\n\t\t\tthis.$nextTick(() => {\n\t\t\t\tthis.scrollBottom();\n\t\t\t})\n\t\t},\n\t\t/**\n\t\t * 判断是否登录\n\t\t */\n\t\tasync isLogin() {\n\t\t\t// 从缓存获取用户登录信息\n\t\t\tconst _userInfo = await uni.getStorageSync('user-info');\n\t\t\tif (_userInfo && _userInfo.id && _userInfo.token && _userInfo.phone) {\n\t\t\t\treturn true;\n\t\t\t};\n\t\t\treturn false;\n\t\t},\n\t\t/**\n\t\t * 对接郑总 --- 小法问答接口\n\t\t */\n\t\tasync lawApi() {\n\t\t\tconst qId = this.qId || this.$u.guid(20, false, 8);\n\t\t\tif (!this.$u.test.isEmpty(this.content)) {\n\t\t\t\tthis.pushAskList({\n\t\t\t\t\ttype: QUESTION_TYPE.question,\n\t\t\t\t\ttext: this.content,\n\t\t\t\t\tisHistory: false,\n\t\t\t\t\tisRead: false,\n\t\t\t\t\tqId: qId\n\t\t\t\t});\n\t\t\t}\n\t\t\tconst params = {\n\t\t\t\tcontent: this.content,\n\t\t\t\tqid: qId,\n\t\t\t\tevent_ids: getApp().globalData.eventId,\n\t\t\t\tindustry_ids: 1,\n\t\t\t\tuser_id: `${ this.source }_${ this.userId }`,\n\t\t\t\tcategory: '',\n\t\t\t\ttopic_id: this.riskId || ''\n\t\t\t};\n\t\t\tconst res = await this.$u.api.lawApi(params);\n\t\t\t// 讲当前语料的状态置为：已读\n\t\t\tthis.changeMessageStatus();\n\t\t\tthis.formatQaAnswer(res.data, false);\n\t\t},\n\t\t/**\n\t\t * 封装小法问答接口出参\n\t\t */\n\t\tformatQaAnswer(data, isHistory = false) {\n\t\t\tconst {\n\t\t\t\tqid,\n\t\t\t\tcard,\n\t\t\t\tanswer,\n\t\t\t\tsimilar_question,\n\t\t\t\trelated_questions,\n\t\t\t\tchoices,\n\t\t\t\tpaperwork,\n\t\t\t\trelate,\n\t\t\t\tcase_registration,\n\t\t\t\tis_chat\n\t\t\t} = data;\n\t\t\t// 你可能想\n\t\t\tthis.relateData = relate;\n\t\t\t// qid\n\t\t\tthis.qId = qid;\n\t\t\t// 小法话术\n\t\t\tconst _answer = answer ? answer.replace(/\\n/g, '') : '';\n\t\t\t// 是否显示【知识卡片】\n\t\t\tconst _showCard = (card && card.length > 0) || false;\n\t\t\t// 知识卡片\n\t\t\tif (_showCard) {\n\t\t\t\tthis.pushAskList({\n\t\t\t\t\tqId: this.qId,\n\t\t\t\t\ttype: QUESTION_TYPE.answer,\n\t\t\t\t\ttitle: '知识卡片',\n\t\t\t\t\ttext: _answer,\n\t\t\t\t\tisHistory,\n\t\t\t\t\tisCard: true\n\t\t\t\t})\n\t\t\t}\n\t\t\t// 普通话术\n\t\t\tif (is_chat) {\n\t\t\t\tthis.pushAskList({\n\t\t\t\t\tqId: this.qId,\n\t\t\t\t\ttype: QUESTION_TYPE.answer,\n\t\t\t\t\theader: require('../../static/icon/seat_icon.png'),\n\t\t\t\t\ttext: _answer,\n\t\t\t\t\tisHistory,\n\t\t\t\t\tisChat: true\n\t\t\t\t})\n\t\t\t}\n\t\t\t// 选项\n\t\t\tif (choices && choices.length > 0) {\n\t\t\t\tconst _choices = [];\n\t\t\t\tchoices.forEach(item => {\n\t\t\t\t\t_choices.push({\n\t\t\t\t\t\tactive: false,\n\t\t\t\t\t\ttext: item\n\t\t\t\t\t})\n\t\t\t\t})\n\t\t\t\tthis.pushAskList({\n\t\t\t\t\ttype: QUESTION_TYPE.answer,\n\t\t\t\t\ttitle: '为了提供更精准的解答，请告诉我：',\n\t\t\t\t\tisHistory,\n\t\t\t\t\toptions: _choices,\n\t\t\t\t\toption_desc: paperwork ? paperwork : ''\n\t\t\t\t})\n\t\t\t}\n\t\t\t// 相似问题：有选项则不推荐相似问题\n\t\t\tif (!choices && similar_question && similar_question.length > 0) {\n\t\t\t\tconst _similar = [];\n\t\t\t\tsimilar_question.forEach(item => {\n\t\t\t\t\t_similar.push({\n\t\t\t\t\t\tactive: false,\n\t\t\t\t\t\ttext: item\n\t\t\t\t\t})\n\t\t\t\t})\n\t\t\t\tthis.pushAskList({\n\t\t\t\t\ttype: QUESTION_TYPE.answer,\n\t\t\t\t\ttitle: '你想要咨询的问题可能是：',\n\t\t\t\t\tisHistory,\n\t\t\t\t\tsimilar: _similar\n\t\t\t\t})\n\t\t\t}\n\t\t\t// 相关问题：如果有相似问题，则不推相关问题\n\t\t\tif (!similar_question && related_questions && related_questions.length > 0) {\n\t\t\t\tconst _related = [];\n\t\t\t\t// 标题\n\t\t\t\tconst _title = case_registration && case_registration.cause ? `为你推荐协议${ case_registration.cause }的相关问题，可查看：` :\n\t\t\t\t\t'你可能还想问：';\n\t\t\t\trelated_questions.forEach(item => {\n\t\t\t\t\t_related.push({\n\t\t\t\t\t\tactive: false,\n\t\t\t\t\t\ttext: item\n\t\t\t\t\t})\n\t\t\t\t})\n\t\t\t\tthis.pushAskList({\n\t\t\t\t\ttype: QUESTION_TYPE.answer,\n\t\t\t\t\ttitle: _title,\n\t\t\t\t\tisHistory,\n\t\t\t\t\tsimilar: _related\n\t\t\t\t})\n\t\t\t}\n\t\t},\n\t\t/**\n\t\t * 推荐问题\n\t\t */\n\t\tasync getRecommendData() {\n\t\t\tthis.recommendData = [];\n\t\t\tconst res = await this.$u.api.getRecommend({\n\t\t\t\tcount: 3,\n\t\t\t\tevent_id: getApp().globalData.eventId,\n\t\t\t\tuser_id: getApp().globalData.userId,\n\t\t\t\ttype: getApp().globalData.type,\n\t\t\t\tlevel1: this.level1,\n\t\t\t\tlevel2: this.level2,\n\t\t\t\ttopic_id: this.topicId\n\t\t\t});\n\t\t\tres.data.forEach((item, index) => {\n\t\t\t\tthis.recommendData.push({\n\t\t\t\t\ttext: item,\n\t\t\t\t\tindex,\n\t\t\t\t\tactive: false\n\t\t\t\t})\n\t\t\t})\n\t\t},\n\t\t/**\n\t\t * 换一批推荐问题\n\t\t */\n\t\thandleChangeRecommend(e) {\n\t\t\tthis.getRecommendData();\n\t\t},\n\t\t/**\n\t\t * 修改未读状态为已读\n\t\t */\n\t\tchangeMessageStatus() {\n\t\t\tfor (let i in this.askList) {\n\t\t\t\tconst _i = parseInt(i);\n\t\t\t\tif (_i === this.askList.length - 1 && this.askList[_i].type === QUESTION_TYPE.question) {\n\t\t\t\t\tthis.askList[_i].isRead = true;\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t/**\n\t\t * 选项选择\n\t\t * @param {Object} opt 选项文本\n\t\t * @param {Object} qId \n\t\t */\n\t\thandleOptionClick(opt, qId) {\n\t\t\topt.active = true;\n\t\t\tthis.qId = qId;\n\t\t\tthis.content = opt.text;\n\t\t\t// 调用问题接口\n\t\t\tthis.lawApi();\n\t\t},\n\t\t/**\n\t\t * 输入框文本提交\n\t\t */\n\t\thandleInput() {\n\t\t\tthis.content = this.inputText;\n\t\t\tif (this.isHuman) {\n\t\t\t\tthis.pushAskList({\n\t\t\t\t\ttype: QUESTION_TYPE.question,\n\t\t\t\t\ttext: this.content,\n\t\t\t\t\tisHistory: false,\n\t\t\t\t\tisRead: false,\n\t\t\t\t\tqId: this.$u.guid(10, false, 10)\n\t\t\t\t});\n\t\t\t\tthis.handleSendSocketMessage(this.content, IMTextType.text)\n\t\t\t} else {\n\t\t\t\tthis.lawApi();\n\t\t\t}\n\t\t\tthis.inputText = '';\n\t\t},\n\t\t/**\n\t\t * 滚动到底部\n\t\t */\n\t\tscrollBottom() {\n\t\t\tthis.scrollTop = 500 * this.askList.length;\n\t\t},\n\t\t/**\n\t\t * 文件下载\n\t\t * @param {Object} path 文件地址\n\t\t */\n\t\thandleDownloadFile(path) {\n\t\t\tconst _this = this;\n\t\t\tuni.downloadFile({\n\t\t\t\turl: path,\n\t\t\t\tsuccess(res) {\n\t\t\t\t\t_this.$refs.uTips.show({\n\t\t\t\t\t\ttitle: '文件已经下载',\n\t\t\t\t\t\ttype: 'success',\n\t\t\t\t\t\tduration: '2000'\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t})\n\t\t},\n\t\t/**\n\t\t * 补充案情登记表\n\t\t */\n\t\tasync handleCaseDetail() {\n\t\t\t// 跳转到登录, 携带当前连接，跳转回登录\n\t\t\tconst _temp = await this.isLogin();\n\t\t\tif (!_temp) {\n\t\t\t\tthis.$u.route({\n\t\t\t\t\turl: 'pages/login/index',\n\t\t\t\t\tparams: {\n\t\t\t\t\t\tredirct: 'pages/case-detail/index'\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tthis.$u.route({\n\t\t\t\t\turl: 'pages/case-detail/index'\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\t// ===================== websocket ===================\n\t\t/**\n\t\t * 创建websocket 对象\n\t\t */\n\t\tsocketInit() {\n\t\t\t// 创建socket对象\n\t\t\tthis.socket = new WebSocket({\n\t\t\t\theartCheck: true,\n\t\t\t\tisReconnection: true,\n\t\t\t\tuId: this.userId\n\t\t\t});\n\t\t\t// 建立连接\n\t\t\t// 监听websocket状态\n\t\t\tthis.socket.onSocketClosed({\n\t\t\t\turl: this.socketConfig.url,\n\t\t\t\tsuccess(res) {\n\t\t\t\t\tconsole.log('res:', res)\n\t\t\t\t},\n\t\t\t\tfail(err) {\n\t\t\t\t\tconsole.log(\"onSocketClosed err\", err)\n\t\t\t\t}\n\t\t\t});\n\t\t\t// 监听网络变化\n\t\t\tthis.socket.onNetworkChange({\n\t\t\t\turl: this.socketConfig.url,\n\t\t\t\tsuccess(res) {\n\t\t\t\t\tconsole.log(res)\n\t\t\t\t},\n\t\t\t\tfail(err) {\n\t\t\t\t\tconsole.log(\"onNetworkChange err\", err)\n\t\t\t\t}\n\t\t\t})\n\t\t\t// 监听服务器返回\n\t\t\tthis.socket.onReceivedMsg(res => {\n\t\t\t\t// 修改语料为：已读\n\t\t\t\tthis.changeMessageStatus();\n\t\t\t\tconst {\n\t\t\t\t\tcode,\n\t\t\t\t\tdata,\n\t\t\t\t\tmsg\n\t\t\t\t} = JSON.parse(res.data);\n\t\t\t\tconsole.log('socket message data', JSON.parse(res.data));\n\t\t\t\tswitch (code) {\n\t\t\t\t\tcase 17:\n\t\t\t\t\t\tthis.lawyerId = data.lawyerId;\n\t\t\t\t\t\tthis.receiveRole = data.role;\n\t\t\t\t\t\tthis.isHuman = true;\n\t\t\t\t\t\tthis.pushAskList({\n\t\t\t\t\t\t\ttype: QUESTION_TYPE.tip,\n\t\t\t\t\t\t\ttext: msg\n\t\t\t\t\t\t});\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 1:\n\t\t\t\t\t\tif (data.type === 1) {\n\t\t\t\t\t\t\tthis.pushAskList({\n\t\t\t\t\t\t\t\tqId: data.createTime,\n\t\t\t\t\t\t\t\ttype: QUESTION_TYPE.answer,\n\t\t\t\t\t\t\t\theader: require('../../static/icon/im_lawyer.png'),\n\t\t\t\t\t\t\t\ttext: data.msgContent,\n\t\t\t\t\t\t\t\tisChat: true\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t} else if (data.type === 2) {\n\t\t\t\t\t\t\tconst isImg = RegImg.test(data.msgContent);\n\t\t\t\t\t\t\tif (isImg) {\n\t\t\t\t\t\t\t\tthis.pushAskList({\n\t\t\t\t\t\t\t\t\tqId: data.createTime,\n\t\t\t\t\t\t\t\t\ttype: QUESTION_TYPE.answer,\n\t\t\t\t\t\t\t\t\theader: require('../../static/icon/im_lawyer.png'),\n\t\t\t\t\t\t\t\t\ttext: data.msgContent,\n\t\t\t\t\t\t\t\t\tisChat: true,\n\t\t\t\t\t\t\t\t\tisImg: true\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else if (data.type === 3) {\n\t\t\t\t\t\t\tthis.pushAskList({\n\t\t\t\t\t\t\t\tqId: data.createTime,\n\t\t\t\t\t\t\t\ttype: QUESTION_TYPE.answer,\n\t\t\t\t\t\t\t\theader: require('../../static/icon/im_lawyer.png'),\n\t\t\t\t\t\t\t\ttext: data.msgContent,\n\t\t\t\t\t\t\t\tisChat: true,\n\t\t\t\t\t\t\t\tisFile: true\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t} else if (data.type === 5) {\n\t\t\t\t\t\t\tconst {\n\t\t\t\t\t\t\t\torderId,\n\t\t\t\t\t\t\t\tlawyerProductId\n\t\t\t\t\t\t\t} = JSON.parse(data.msgContent);\n\t\t\t\t\t\t\tthis.pushAskList({\n\t\t\t\t\t\t\t\tqId: data.createTime,\n\t\t\t\t\t\t\t\ttype: QUESTION_TYPE.answer,\n\t\t\t\t\t\t\t\t// header: require('../../static/icon/im_lawyer.png'),\n\t\t\t\t\t\t\t\tfile: {\n\t\t\t\t\t\t\t\t\timg: require('../../static/common/lawyer__into_icon@2x.png'),\n\t\t\t\t\t\t\t\t\torderId,\n\t\t\t\t\t\t\t\t\tlawyerProductId\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\tisChat: false,\n\t\t\t\t\t\t\t\tisOrder: true\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t// 留言\n\t\t\t\t\tcase 16:\n\t\t\t\t\t\tthis.pushAskList({\n\t\t\t\t\t\t\ttype: QUESTION_TYPE.answer,\n\t\t\t\t\t\t\theader: require('../../static/icon/seat_icon.png'),\n\t\t\t\t\t\t\ttext: msg,\n\t\t\t\t\t\t\tisChat: true,\n\t\t\t\t\t\t\tshowLeaveMessageOpt: true\n\t\t\t\t\t\t});\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 11:\n\t\t\t\t\tcase 12:\n\t\t\t\t\t\tthis.pushAskList({\n\t\t\t\t\t\t\ttype: QUESTION_TYPE.tip,\n\t\t\t\t\t\t\ttext: msg,\n\t\t\t\t\t\t\tisQueue: true\n\t\t\t\t\t\t});\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 19:\n\t\t\t\t\t\tthis.handleLinSocket();\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 22:\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t})\n\t\t},\n\t\t/**\n\t\t * 建立、关闭连接\n\t\t */\n\t\thandleLinSocket() {\n\t\t\tif (this.isHuman) {\n\t\t\t\tthis.socket.closeWebSocket();\n\t\t\t\tthis.isHuman = false;\n\t\t\t\tthis.pushAskList({\n\t\t\t\t\ttype: QUESTION_TYPE.tip,\n\t\t\t\t\ttext: '聊天已结束'\n\t\t\t\t})\n\t\t\t} else {\n\t\t\t\tthis.pushAskList({\n\t\t\t\t\ttype: QUESTION_TYPE.tip,\n\t\t\t\t\ttext: '小法正在帮你连线人工客服，请稍后...'\n\t\t\t\t})\n\t\t\t\tthis.socket.initWebSocket({\n\t\t\t\t\turl: this.socketConfig.url,\n\t\t\t\t\tsuccess(res) {\n\t\t\t\t\t\tconsole.log('websocket success:', res)\n\t\t\t\t\t},\n\t\t\t\t\tfail(err) {\n\t\t\t\t\t\tconsole.log(\"linkWebsocket err\", err)\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t}\n\t\t},\n\t\t/**\n\t\t * 发送websocket消息\n\t\t * @param {Object} content 发送内容\n\t\t * @param {Object} type 类型\n\t\t */\n\t\thandleSendSocketMessage(content, type) {\n\t\t\tconst _param = {\n\t\t\t\tsendId: this.userId,\n\t\t\t\treceiveId: this.lawyerId,\n\t\t\t\ttype: type,\n\t\t\t\tmsgContent: content || this.content,\n\t\t\t\trole: 'xiaofa_user',\n\t\t\t\treceiveRole: this.receiveRole,\n\t\t\t\tcode: 2\n\t\t\t}\n\t\t\tthis.socket.sendWebSocketMsg({\n\t\t\t\tdata: JSON.stringify(_param),\n\t\t\t\tsuccess(res) {\n\t\t\t\t\tconsole.log('send success:', res)\n\t\t\t\t}\n\t\t\t})\n\t\t}\n\t},\n\tmounted() {\n\t\tthis.socketInit();\n\t},\n\tonLoad(opt) {\n\t\tconst {\n\t\t\ttopic,\n\t\t\ttopicId,\n\t\t\tsubTopicId,\n\t\t\tsubTopic,\n\t\t\tcontent,\n\t\t\triskId\n\t\t} = opt;\n\n\t\tthis.userId = getApp().globalData.userId || this.$u.guid(10, false, 10);\n\t\tthis.dateVal = `今天 ${this.$u.timeFormat(new Date().getTime(), 'hh:MM')}`;\n\t\t// 携带问题进入问答\n\t\tif (content) {\n\t\t\tthis.content = content;\n\t\t\tthis.lawApi();\n\t\t}\n\t\tif (topicId) {\n\t\t\tthis.topicId = topicId;\n\t\t}\n\t\tif (topic) {\n\t\t\tthis.level1 = topic;\n\t\t}\n\t\tif (subTopic) {\n\t\t\tthis.level2 = subTopic;\n\t\t}\n\t\tif (riskId) {\n\t\t\tthis.riskId = riskId;\n\t\t\tthis.lawApi();\n\t\t}\n\t\tthis.getRecommendData();\n\t},\n\tonShow() {}\n}\n","import mod from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--10-oneOf-1-1!../../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--10-oneOf-1-2!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../../HBuilderX/plugins/uniapp-cli/node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--10-oneOf-1-5!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=style&index=0&lang=less&\"; export default mod; export * from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--10-oneOf-1-1!../../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--10-oneOf-1-2!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../../HBuilderX/plugins/uniapp-cli/node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--10-oneOf-1-5!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=style&index=0&lang=less&\"","// extracted by mini-css-extract-plugin"],"sourceRoot":""}